{"version":3,"sources":["components/Filter.js","components/Numbers.js","components/SubmissionForm.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","onChange","function","Person","name","number","deletion","onClick","Numbers","personsmap","persons","map","person","toLowerCase","indexOf","searchName","filter","e","undefined","SubmissionForm","onSubmit","submission","namefield","nameinput","numberfield","numberinput","type","baseUrl","axios","get","then","response","data","newObject","post","id","delete","console","log","put","Notification","message","error","className","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","setSearchName","setMessage","setError","findIdForName","targetName","find","useEffect","serviceRequest","event","target","preventDefault","address","every","concat","setTimeout","window","confirm","returnedPerson","catch","alert","deletionName","currentTarget","deletionCandidate","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.748c2312.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = (props) => {\r\n\r\n    return(\r\n        <>\r\n            <p>\r\n                Search for name: {'  '}\r\n                <input \r\n                value={props.value} \r\n                onChange={props.function}/>\r\n            </p>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst Person = ({name, number, deletion}) => {\r\n    return(\r\n      <>\r\n        <p>\r\n          {name}: {number} <button value={name} onClick={deletion}>Delete</button>\r\n        </p>\r\n      </>\r\n    )\r\n  }\r\n\r\nconst Numbers = (props) => {\r\n    const searchFilter = (person) => {\r\n        if (person.name.toLowerCase().indexOf(props.searchName.toLowerCase()) >-1) {\r\n          return(\r\n            person\r\n          )\r\n        }\r\n      }\r\n\r\n    const midmap = (props.persons.map(searchFilter)).filter(e => e !== undefined)\r\n    const personsmap = midmap.map(person => \r\n    <Person key={person.name} name={person.name} number={person.number} deletion={props.deletion}/>)\r\n    \r\n    return(\r\n      <>\r\n        {personsmap}\r\n      </>\r\n    )\r\n  }\r\n\r\nexport default Numbers","import React from 'react'\r\n\r\nconst SubmissionForm = (props) =>{\r\n    return(\r\n        <form onSubmit={props.submission}>\r\n        <div>\r\n          name: <input value={props.namefield} onChange={props.nameinput}/>\r\n        </div>\r\n        <div>\r\n          number: <input value={props.numberfield} onChange={props.numberinput}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    )\r\n}\r\n\r\nexport default SubmissionForm","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return(\r\n        request.then(response => response.data)\r\n    )\r\n}\r\n\r\nconst sendName = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return(\r\n        request.then(response => response.data)\r\n    )\r\n}\r\n\r\nconst updateName = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deleteName = (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    return(\r\n        request.then(console.log('Entry deleted'))\r\n    )\r\n}\r\n\r\nexport default\r\n\r\n{\r\n    getAll,\r\n    sendName,\r\n    deleteName,\r\n    updateName\r\n}","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport Numbers from './components/Numbers'\nimport SubmissionForm from './components/SubmissionForm'\nimport serviceRequest from './services/persons'\n\n\nconst Notification = ({ message, error }) => {\n  if (message === null && error === null) {\n    return null\n  } else if (message === null) {\n\n    return (\n      <div className='error'>\n        {error}\n      </div>\n    )\n  }\n\n  return(\n    <div className='message'>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchName, setSearchName] = useState('')\n  const [message, setMessage] = useState(null)\n  const [error, setError] = useState(null)\n\n  const findIdForName= (targetName) => {\n    const personObject = persons.find(person => person.name === targetName)\n    return(personObject.id)\n  }\n\n  useEffect(() => {\n    serviceRequest\n      .getAll()\n      .then(response => {\n        setPersons(response)\n      })\n  }, [])\n\n  const handleNameInput = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberInput = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addName = (event) => {\n    event.preventDefault()\n    const address = {\n      name: newName,\n      number: newNumber\n    }\n    \n    persons.every((person) => \n    person.name !== newName)\n    ? serviceRequest\n        .sendName(address)\n        .then(response => {setPersons(persons.concat(response))})\n        .then(() => {setMessage(`${newName} sucessfully added`)})\n          .then(()=> setTimeout(()=> {setMessage(null)}, 5000))\n    : window.confirm(\n      `${newName} is already in the Phonebook. Would you like to update their number?`)\n      ? serviceRequest\n          .updateName(findIdForName(address.name), address)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.name !== returnedPerson.name ? person : returnedPerson))})\n          .then(() => {setMessage(`${address.name} sucessfully updated`)})\n          .then(()=> {setTimeout(()=> {setMessage(null)}, 5000)})\n          .catch(error => {\n            setError(`${newName} already removed from phonebook`);\n            setTimeout(() => {\n              setError(null)\n            }, 5000);\n            setPersons(persons.filter(person => person.name !== newName));\n          })\n      : alert('Cancelled update')\n \n  setNewName('')\n    setNewNumber('')\n  }\n\n  const removeName = (event) => {\n    const deletionName = event.currentTarget.value\n    const deletionCandidate = findIdForName(deletionName)\n    window.confirm(`Are you sure you want to delete ${deletionName} from your contacts?`)\n    ? serviceRequest\n      .deleteName(deletionCandidate)\n      .then( () => {setPersons(persons.filter(person => person.id !== deletionCandidate))})\n      .then(() => {setMessage(`${deletionName} sucessfully deleted`)})\n          .then(()=> setTimeout(()=> {setMessage(null)}, 5000))\n    : alert('Deletion cancelled')\n  }\n\n  const searchBar = (event) => {\n    setSearchName(event.target.value)\n  }\n\n\n  return (\n    <div>\n      <Notification message={message} error={error}/>\n      <h2>Phonebook</h2>\n      <Filter value={searchName} function={searchBar}/>\n      <h2>Add a new contact</h2>\n      <SubmissionForm \n      namefield={newName} nameinput={handleNameInput}\n      numberfield={newNumber} numberinput={handleNumberInput}\n      submission={addName}\n      />\n      <h2>Numbers</h2>\n      <Numbers persons={persons} searchName={searchName} deletion={removeName}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}